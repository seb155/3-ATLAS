# .env.template Example
# This file demonstrates the pattern for .env.template files
# Copy this to your app directory and customize for your needs
#
# Placeholders that will be auto-replaced by generate-env.ps1:
# - {{DATABASE_HOST}}     -> forge-postgres (Docker) or localhost (Local)
# - {{DATABASE_PORT}}     -> 5432 (Docker) or 5433 (Local)
# - {{REDIS_HOST}}        -> forge-redis (Docker) or localhost (Local)
# - {{REDIS_PORT}}        -> 6379 (both)
# - {{LOKI_HOST}}         -> forge-loki (Docker) or localhost (Local)
# - {{LOKI_PORT}}         -> 3100 (both)
# - {{MEILISEARCH_HOST}}  -> forge-meilisearch (Docker) or localhost (Local)
# - {{MEILISEARCH_PORT}}  -> 7700 (both)
# - {{ENV_MODE}}          -> docker or local
#
# Manual placeholders (replace these yourself):
# - {{APP_NAME}}          -> Your application name
# - {{DB_NAME}}           -> Your database name
# - {{SECRET_KEY}}        -> Your secret key

# ============================================================================
# Application Settings
# ============================================================================

APP_NAME={{APP_NAME}}
ENVIRONMENT={{ENV_MODE}}

# ============================================================================
# Database Configuration
# ============================================================================

# PostgreSQL connection
DATABASE_URL=postgresql://postgres:postgres@{{DATABASE_HOST}}:{{DATABASE_PORT}}/{{DB_NAME}}

# Alternative format
DB_HOST={{DATABASE_HOST}}
DB_PORT={{DATABASE_PORT}}
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME={{DB_NAME}}

# ============================================================================
# Cache Configuration
# ============================================================================

# Redis connection
REDIS_URL=redis://{{REDIS_HOST}}:{{REDIS_PORT}}

# Or individual components
REDIS_HOST={{REDIS_HOST}}
REDIS_PORT={{REDIS_PORT}}

# ============================================================================
# Observability
# ============================================================================

# Loki (logging)
LOKI_URL=http://{{LOKI_HOST}}:{{LOKI_PORT}}

# ============================================================================
# Search Engine
# ============================================================================

# MeiliSearch (if applicable)
MEILISEARCH_URL=http://{{MEILISEARCH_HOST}}:{{MEILISEARCH_PORT}}
MEILISEARCH_API_KEY=masterKey

# ============================================================================
# Application-Specific URLs (Docker DNS names for inter-service communication)
# ============================================================================

# Example: If your app needs to call another service
# Use Docker DNS names for service-to-service communication
# API_URL=http://other-service:8000  # Docker (container-to-container)
# API_URL=http://localhost:8000      # Local (if running outside Docker)

# For frontend env vars (VITE_*, NEXT_PUBLIC_*, etc.)
# These are exposed to the browser, so use public URLs
# VITE_API_URL=https://api.axoiq.com  # Production/Traefik
# VITE_API_URL=http://localhost:8001  # Local development

# ============================================================================
# CORS Configuration
# ============================================================================

# Comma-separated list of allowed origins
# Docker: Use service names for internal calls, domain names for browser access
# ALLOWED_ORIGINS=http://{{APP_NAME}}-frontend:4000,https://{{APP_NAME}}.axoiq.com

# Local: Use localhost URLs
# ALLOWED_ORIGINS=http://localhost:4000,http://localhost:5173

# ============================================================================
# Security
# ============================================================================

SECRET_KEY={{SECRET_KEY}}
JWT_SECRET={{SECRET_KEY}}
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60

# ============================================================================
# Optional: External Services
# ============================================================================

# These typically don't change between Docker/Local
# OPENAI_API_KEY=your-key-here
# STRIPE_API_KEY=your-key-here
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587

# ============================================================================
# Debug & Development
# ============================================================================

DEBUG=true
LOG_LEVEL=INFO

# ============================================================================
# Notes for Developers
# ============================================================================

# 1. DO NOT commit .env to git (it should be in .gitignore)
# 2. DO commit .env.template to git (with placeholders)
# 3. Run generate-env.ps1 to create .env from this template
# 4. The script auto-detects Docker vs Local environment
# 5. Replace {{MANUAL_PLACEHOLDERS}} with your actual values

# ============================================================================
# Quick Setup
# ============================================================================

# 1. Copy this file to your app directory as .env.template
# 2. Copy generate-env.ps1 to the same directory
# 3. Replace {{APP_NAME}}, {{DB_NAME}}, {{SECRET_KEY}} with actual values
# 4. Run: .\generate-env.ps1
# 5. The script creates .env with correct Docker/Local values
