# ==============================================================================
# DNSMASQ Configuration - Workspace Local DNS
# ==============================================================================
# Purpose: Resolve *.axoiq.com to 127.0.0.1 for local development
# ==============================================================================

# Listen on all interfaces
listen-address=0.0.0.0

# Don't read /etc/resolv.conf (we're in Docker)
no-resolv

# Upstream DNS servers (Google DNS)
server=8.8.8.8
server=8.8.4.4

# Enable logging (optional, for debugging)
log-queries
log-facility=-

# Cache size (1000 entries)
cache-size=1000

# ==============================================================================
# WILDCARD DNS FOR *.axoiq.com
# ==============================================================================
# This makes ALL subdomains of axoiq.com resolve to 127.0.0.1
# Examples:
#   nexus.axoiq.com      → 127.0.0.1
#   api-nexus.axoiq.com  → 127.0.0.1
#   synapse.axoiq.com    → 127.0.0.1
#   future-app.axoiq.com → 127.0.0.1 (automatically!)
# ==============================================================================

address=/axoiq.com/127.0.0.1

# ==============================================================================
# NOTES
# ==============================================================================
# After starting dnsmasq, configure your Windows DNS to use 127.0.0.1
#
# Method 1: Modify network adapter DNS settings
#   - Control Panel > Network > Change adapter settings
#   - Right-click adapter > Properties > IPv4 > Properties
#   - Set "Preferred DNS server" to 127.0.0.1
#   - Set "Alternate DNS server" to 8.8.8.8 (fallback)
#
# Method 2: Use only for specific applications (no system change)
#   - Keep your existing Pi-hole DNS
#   - Just rely on hosts file entries (already configured)
# ==============================================================================
